.MODEL SMALL

.STACK 100H

.DATA

OUTMSG DB '...', 0AH, '$'
EXTRA DB '->', '$'
WAVE_SIZE DW 30
	
.CODE

JMP START

DRAW_WAVE PROC NEAR	
	PUSH AX
	PUSH BX
	MOV AX, CX
	MOV BX, DX
	PUSH CX
	PUSH DX
	MOV AX, 0
	XLOOP:
		MOV BX, 0
		YLOOP:
			PUSH AX
			MOV AH, 0CH
			MOV AL, DL
			INT 10H
			POP AX

			INC BX
			ADD DX, BX
			CMP BX, WAVE_SIZE
			JNE YLOOP
		INC AX
		ADD CX, AX
		CMP AX, WAVE_SIZE
		JNE XLOOP
	POP DX
	POP CX
	POP BX
	POP AX
	RET
ENDP

START:
	MOV AX, 13H
	MOV AH, 0
	INT 10H
	
	MOV AX, @DATA 
	MOV DS, AX 
	MOV DX, OFFSET EXTRA	
	MOV AH, 9 		; STDO

	MOV CX, 200		
	MOV DX, 200
	
	EXECUTION:
		MOV AH, 0CH	; 10H -> DRAW
		MOV AL, CL 	; COLOR
		MOV DX, CX
		;; INT 10H
		CALL DRAW_WAVE

		PUSH CX
		PUSH DX
		MOV CX, 2
		MOV DX, 0H
		MOV AH, 86H
		INT 15H
		POP DX
		POP CX
	
		SUB CX, 4
		CMP CX, 0
		JNE EXECUTION
		
	MOV AL, 0 		
	MOV AH, 4CH
	INT 21H
END START

















