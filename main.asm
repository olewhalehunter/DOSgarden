.MODEL SMALL

.STACK 100H

.DATA

OUTMSG DB '...', 0AH, '$'
EXTRA DB '->', '$'
WAVE_SIZE DW 30
	
.CODE

JMP START

DELAY_PROC PROC NEAR
	PUSH AX
	PUSH CX
	PUSH DX
	MOV CX, 1
	MOV DX, 0H
	MOV AH, 86H
	INT 15H
	POP DX
	POP CX
	POP AX
	RET
ENDP

DRAW_WAVE PROC NEAR	
	PUSH AX
	PUSH BX
	MOV ES, CX
	MOV BX, 0
	PUSH CX
	PUSH DX
XLOOP:
	MOV AX,0
	MOV CX, ES
YLOOP:
	PUSH AX
	MOV AH, 0CH
	MOV AL, DL
	INT 10H
	POP AX

	INC CX
	INC AX
	CMP AX, 10
	JNE YLOOP
	CALL DELAY_PROC
	
	INC DX
	INC BX
	CMP BX, 10
	JNE XLOOP
	
	POP DX
	POP CX
	POP BX
	POP AX
	RET
ENDP

START:
	MOV AX, 13H
	MOV AH, 0
	INT 10H
	
	MOV AX, @DATA 
	MOV DS, AX 
	MOV DX, OFFSET EXTRA	
	MOV AH, 9

	MOV CX, 200		
	MOV DX, 200
	
EXECUTION:
	MOV DX, CX
	CALL DRAW_WAVE
	SUB CX, 4
	CMP CX, 0
	JNE EXECUTION
		
	MOV AL, 0 		
	MOV AH, 4CH
	INT 21H
END START

















